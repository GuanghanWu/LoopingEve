# AIæ¸¸æˆæµ‹è¯•æ¨¡æ‹Ÿç³»ç»Ÿè®¾è®¡æ–¹æ¡ˆ

## 1. ç³»ç»Ÿæ¦‚è¿°

### 1.1 ç›®æ ‡
æ„å»ºä¸€å¥—åŸºäºAI Agentçš„æ¸¸æˆæµ‹è¯•æ¨¡æ‹Ÿç³»ç»Ÿï¼Œé€šè¿‡åˆ›å»ºå¤šä¸ªå…·å¤‡ç‰¹å®šç”¨æˆ·ç”»åƒçš„Agentæ¥æ¨¡æ‹Ÿä¸åŒç±»å‹çš„ç©å®¶ç¾¤ä½“ï¼Œç”Ÿæˆç¬¦åˆè¯¥ç±»å‹ç©å®¶ç‰¹å¾çš„è¯„è®ºã€å»ºè®®å’Œåé¦ˆï¼Œä¸ºæ¸¸æˆè¿­ä»£æä¾›æ•°æ®é©±åŠ¨çš„æŒ‡å¯¼å»ºè®®ã€‚

### 1.2 æ ¸å¿ƒä»·å€¼
- æ›¿ä»£/è¡¥å……ä¼ ç»Ÿç¤¾åŒºå…¬å¼€æµ‹è¯•
- å¿«é€Ÿè·å–å¤šç±»å‹ç©å®¶è§†è§’çš„åé¦ˆ
- è‡ªåŠ¨ç”Ÿæˆè¿­ä»£ä¼˜å…ˆçº§å»ºè®®
- å¯è§†åŒ–å±•ç¤ºæµ‹è¯•ç»“æœ

---

## 2. ç³»ç»Ÿæ¶æ„

### 2.1 æŠ€æœ¯é€‰å‹

| ç»„ä»¶ | æŠ€æœ¯ | è¯´æ˜ |
|------|------|------|
| **æ¨¡æ‹Ÿå¼•æ“** | Node.js | å¤ç”¨åŸæ¸¸æˆä»£ç ï¼Œé€šè¿‡äº‹ä»¶é’©å­é‡‡é›†æ•°æ® |
| **æ¸¸æˆé›†æˆ** | äº‹ä»¶é’©å­ | åŸæ¸¸æˆåŠ emitï¼ŒAgentç³»ç»Ÿç›‘å¬ |
| **æ•°æ®å¤„ç†** | JavaScript | Node.jsç¯å¢ƒè¿è¡Œ |
| **å¯è§†åŒ–** | HTML + Chart.js | çº¯é™æ€ï¼Œä»»æ„è®¾å¤‡æ‰“å¼€ |
| **è¾“å‡ºæ ¼å¼** | JSON | æµ‹è¯•ç»“æœæ•°æ® |

### 2.2 æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CrowdAgents ç³»ç»Ÿæ¶æ„                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   åŸæ¸¸æˆï¼ˆæµè§ˆå™¨/Node.jsåŒç¯å¢ƒï¼‰                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚   â”‚ BattleManager   â”‚                                          â”‚
â”‚   â”‚ PlayerManager   â”‚ â”€â”€emitäº‹ä»¶â”€â”€â–º äº‹ä»¶é’©å­                   â”‚
â”‚   â”‚ InventoryMgr    â”‚                                          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚           â”‚                                                     â”‚
â”‚           â”‚ config.jsonï¼ˆå…±äº«é…ç½®ï¼‰                             â”‚
â”‚           â–¼                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚              Node.js æ¨¡æ‹Ÿå¼•æ“                         â”‚      â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚      â”‚
â”‚   â”‚  â”‚ GameAPI  â”‚ â”‚ Agenté›†ç¾¤ â”‚ â”‚ è¯„ä»·ç³»ç»Ÿ â”‚             â”‚      â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚      â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚      â”‚
â”‚   â”‚  â”‚ åˆ†æå™¨   â”‚ â”‚ å»ºè®®ç”Ÿæˆ â”‚ â”‚ æ•°æ®æ”¶é›† â”‚             â”‚      â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚           â”‚                                                     â”‚
â”‚           â–¼                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚   â”‚ output/         â”‚     â”‚ dashboard/      â”‚                  â”‚
â”‚   â”‚ report.json     â”‚â”€â”€â”€â”€â–ºâ”‚ index.html      â”‚                  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                  â”‚                              â”‚
â”‚                                  â–¼                              â”‚
â”‚                           ä»»æ„è®¾å¤‡æŸ¥çœ‹                          â”‚
â”‚                           (PC/æ‰‹æœº/å¹³æ¿)                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ç›®å½•ç»“æ„

```
CrowdAgents/
â”œâ”€â”€ engine/                    # Node.jsæ¨¡æ‹Ÿå¼•æ“
â”‚   â”œâ”€â”€ main.js               # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ GameAPI.js            # æ¸¸æˆæ¥å£å±‚ï¼ˆç›‘å¬äº‹ä»¶é’©å­ï¼‰
â”‚   â”œâ”€â”€ AgentBase.js          # AgentåŸºç±»
â”‚   â”œâ”€â”€ agents/               # å…·ä½“Agentå®ç°
â”‚   â”‚   â”œâ”€â”€ CasualPlayer.js   # è½»åº¦ä¼‘é—²ç©å®¶
â”‚   â”‚   â”œâ”€â”€ HardcoreGamer.js  # ç¡¬æ ¸ç«æŠ€ç©å®¶
â”‚   â”‚   â”œâ”€â”€ StoryExplorer.js  # å‰§æƒ…æ¢ç´¢å‹ç©å®¶
â”‚   â”‚   â”œâ”€â”€ SocialPlayer.js   # ç¤¾äº¤äº’åŠ¨å‹ç©å®¶
â”‚   â”‚   â””â”€â”€ PayingUser.js     # ä»˜è´¹ä¹ æƒ¯å‹ç©å®¶
â”‚   â”œâ”€â”€ BehaviorEngine.js     # è¡Œä¸ºå†³ç­–å¼•æ“
â”‚   â”œâ”€â”€ Evaluator.js          # å¤šç»´è¯„ä»·è®¡ç®—
â”‚   â”œâ”€â”€ Analyzer.js           # åé¦ˆåˆ†ææ¨¡å—
â”‚   â”œâ”€â”€ Advisor.js            # è¿­ä»£å»ºè®®ç”Ÿæˆå™¨
â”‚   â””â”€â”€ MetricsCollector.js   # æ•°æ®æ”¶é›†å™¨
â”‚
â”œâ”€â”€ config/                    # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ agents.json           # Agentç”»åƒé…ç½®
â”‚   â”œâ”€â”€ behaviors.json        # è¡Œä¸ºæ¨¡å¼é…ç½®
â”‚   â””â”€â”€ evaluation.json       # è¯„ä»·æ ‡å‡†é…ç½®
â”‚
â”œâ”€â”€ dashboard/                 # å¯è§†åŒ–ä»ªè¡¨ç›˜ï¼ˆçº¯é™æ€ï¼‰
â”‚   â”œâ”€â”€ index.html            # ä»ªè¡¨ç›˜å…¥å£
â”‚   â”œâ”€â”€ styles.css            # æ ·å¼
â”‚   â””â”€â”€ app.js                # å›¾è¡¨æ¸²æŸ“
â”‚
â”œâ”€â”€ output/                    # è¾“å‡ºç›®å½•
â”‚   â””â”€â”€ report.json           # æµ‹è¯•ç»“æœ
â”‚
â””â”€â”€ DESIGN.md                  # æœ¬æ–‡æ¡£
```

---

## 4. ä¸åŸæ¸¸æˆçš„é›†æˆ

### 4.1 äº‹ä»¶é’©å­

åŸæ¸¸æˆéœ€è¦åœ¨å…³é”®ä½ç½®è§¦å‘äº‹ä»¶ï¼Œè¯¦è§ `.trae/rules/project_rules.md`

æ ¸å¿ƒäº‹ä»¶åˆ—è¡¨ï¼š
- `battleStart` / `battleEnd` - æˆ˜æ–—ç”Ÿå‘½å‘¨æœŸ
- `playerDamage` / `monsterDamage` - ä¼¤å®³äº‹ä»¶
- `levelUp` - å‡çº§
- `itemObtain` / `itemUse` - ç‰©å“è·å–/ä½¿ç”¨
- `skillUse` - æŠ€èƒ½ä½¿ç”¨
- `floorAdvance` - æ¥¼å±‚æ¨è¿›
- `playerDeath` - æ­»äº¡
- `forgeSuccess` - é”»é€ æˆåŠŸ

### 4.2 è§¦å‘æ–¹å¼

```javascript
this.emit?.('eventName', data);
```

ä½¿ç”¨å¯é€‰é“¾ç¡®ä¿æµè§ˆå™¨ç¯å¢ƒæ— å‰¯ä½œç”¨ã€‚

### 4.3 é›¶å½±å“ä¿è¯

- åŸæ¸¸æˆåœ¨æµè§ˆå™¨ä¸­è¿è¡Œå®Œå…¨ä¸å—å½±å“
- æ‰‹æœº/å¹³æ¿ç«¯æ­£å¸¸æ¸¸ç©
- Agentç³»ç»Ÿä»…åœ¨Node.jsç¯å¢ƒè¿è¡Œ

---

## 5. Agentæ¨¡å‹è®¾è®¡

### 5.1 AgentåŸºç±» (AgentBase)

```javascript
class AgentBase {
    constructor(config) {
        this.id = config.id;              // Agentå”¯ä¸€æ ‡è¯†
        this.name = config.name;          // Agentåç§°
        this.type = config.type;          // ç©å®¶ç±»å‹
        this.avatar = config.avatar;      // å¤´åƒå›¾æ ‡
        this.personality = {};            // æ€§æ ¼ç‰¹å¾
        this.preferences = {};            // æ¸¸æˆåå¥½
        this.skillLevel = 1;              // æŠ€èƒ½æ°´å¹³(1-10)
        this.playTime = 0;                // æ¸¸æˆæ—¶é•¿
        this.experienceData = [];         // ä½“éªŒæ•°æ®è®°å½•
    }
    
    // æ ¸å¿ƒæ–¹æ³•
    decide(gameState) {}      // å†³ç­–ä¸‹ä¸€æ­¥è¡ŒåŠ¨
    evaluate(event) {}        // è¯„ä»·æ¸¸æˆäº‹ä»¶
    generateFeedback() {}     // ç”Ÿæˆåé¦ˆæ„è§
    simulatePlay(duration) {} // æ¨¡æ‹Ÿæ¸¸æˆè¿‡ç¨‹
}
```

### 4.2 äº”ç§ç©å®¶ç”»åƒ

| Agentç±»å‹ | ä¸­æ–‡å | æ ¸å¿ƒç‰¹å¾ | å…³æ³¨ç»´åº¦ |
|-----------|--------|----------|----------|
| CasualPlayer | è½»åº¦ä¼‘é—²ç©å®¶ | æ—¶é—´å°‘ã€æ±‚æ”¾æ¾ã€æ€•æŒ«è´¥ | æ˜“ä¸Šæ‰‹æ€§ã€èŠ‚å¥ã€å¥–åŠ±é¢‘ç‡ |
| HardcoreGamer | ç¡¬æ ¸ç«æŠ€ç©å®¶ | è¿½æ±‚æŒ‘æˆ˜ã€æ·±ç©¶æœºåˆ¶ã€æ¯”æ‹¼æ’å | æ·±åº¦ã€éš¾åº¦ã€å¹³è¡¡æ€§ |
| StoryExplorer | å‰§æƒ…æ¢ç´¢å‹ç©å®¶ | é‡ä½“éªŒã€çˆ±æ”¶é›†ã€å…³æ³¨ä¸–ç•Œè§‚ | å†…å®¹ä¸°å¯Œåº¦ã€æ¢ç´¢è‡ªç”±åº¦ |
| SocialPlayer | ç¤¾äº¤äº’åŠ¨å‹ç©å®¶ | é‡äº¤æµã€çˆ±åˆ†äº«ã€ç»„é˜Ÿåå¥½ | ç¤¾äº¤åŠŸèƒ½ã€åˆä½œç©æ³• |
| PayingUser | ä»˜è´¹ä¹ æƒ¯å‹ç©å®¶ | æ„¿ä»˜è´¹ã€æ±‚æ•ˆç‡ã€é‡ä»·å€¼æ„Ÿ | ä»˜è´¹ä½“éªŒã€æ€§ä»·æ¯”ã€VIPæ„Ÿ |

### 4.3 è¯¦ç»†ç”»åƒå®šä¹‰

#### 4.3.1 è½»åº¦ä¼‘é—²ç©å®¶ (CasualPlayer)
```json
{
    "id": "casual_01",
    "name": "ä¼‘é—²å°æ˜",
    "type": "casual",
    "avatar": "ğŸ®",
    "personality": {
        "patience": 0.4,
        "frustrationTolerance": 0.3,
        "explorationDesire": 0.5,
        "competitionDrive": 0.2
    },
    "preferences": {
        "sessionLength": "short",
        "difficultyPreference": "easy",
        "rewardFrequency": "high",
        "tutorialImportance": "high"
    },
    "behaviorPatterns": {
        "playFrequency": "å¶å°”",
        "avgSessionMinutes": 15,
        "quitThreshold": "è¿ç»­å¤±è´¥3æ¬¡",
        "preferredActions": ["æ¢ç´¢", "æ”¶é›†", "è½»æ¾æˆ˜æ–—"]
    }
}
```

#### 4.3.2 ç¡¬æ ¸ç«æŠ€ç©å®¶ (HardcoreGamer)
```json
{
    "id": "hardcore_01",
    "name": "ç«æŠ€è¾¾äºº",
    "type": "hardcore",
    "avatar": "âš”ï¸",
    "personality": {
        "patience": 0.8,
        "frustrationTolerance": 0.9,
        "explorationDesire": 0.7,
        "competitionDrive": 0.95
    },
    "preferences": {
        "sessionLength": "long",
        "difficultyPreference": "hard",
        "rewardFrequency": "earned",
        "tutorialImportance": "skip"
    },
    "behaviorPatterns": {
        "playFrequency": "æ¯æ—¥",
        "avgSessionMinutes": 120,
        "quitThreshold": "å‡ ä¹ä¸é€€å‡º",
        "preferredActions": ["æŒ‘æˆ˜é«˜éš¾åº¦", "ä¼˜åŒ–build", "åˆ·è£…å¤‡"]
    }
}
```

#### 4.3.3 å‰§æƒ…æ¢ç´¢å‹ç©å®¶ (StoryExplorer)
```json
{
    "id": "explorer_01",
    "name": "æ¢ç´¢è€…å°é›ª",
    "type": "explorer",
    "avatar": "ğŸ—ºï¸",
    "personality": {
        "patience": 0.7,
        "frustrationTolerance": 0.5,
        "explorationDesire": 0.95,
        "competitionDrive": 0.3
    },
    "preferences": {
        "sessionLength": "medium",
        "difficultyPreference": "normal",
        "rewardFrequency": "discovery",
        "tutorialImportance": "medium"
    },
    "behaviorPatterns": {
        "playFrequency": "æ¯å‘¨æ•°æ¬¡",
        "avgSessionMinutes": 45,
        "quitThreshold": "å†…å®¹è€—å°½",
        "preferredActions": ["æ¢ç´¢åœ°å›¾", "é˜…è¯»æ–‡æœ¬", "æ”¶é›†æˆå°±"]
    }
}
```

#### 4.3.4 ç¤¾äº¤äº’åŠ¨å‹ç©å®¶ (SocialPlayer)
```json
{
    "id": "social_01",
    "name": "ç¤¾äº¤è¾¾äºº",
    "type": "social",
    "avatar": "ğŸ‘¥",
    "personality": {
        "patience": 0.6,
        "frustrationTolerance": 0.5,
        "explorationDesire": 0.6,
        "competitionDrive": 0.5,
        "socialNeed": 0.9
    },
    "preferences": {
        "sessionLength": "flexible",
        "difficultyPreference": "normal",
        "rewardFrequency": "shared",
        "tutorialImportance": "medium"
    },
    "behaviorPatterns": {
        "playFrequency": "ä¸æœ‹å‹åŒæ­¥",
        "avgSessionMinutes": 60,
        "quitThreshold": "æœ‹å‹ä¸åœ¨çº¿",
        "preferredActions": ["ç»„é˜Ÿ", "èŠå¤©", "åˆ†äº«"]
    }
}
```

#### 4.3.5 ä»˜è´¹ä¹ æƒ¯å‹ç©å®¶ (PayingUser)
```json
{
    "id": "paying_01",
    "name": "æ°ªé‡‘å¤§ä½¬",
    "type": "paying",
    "avatar": "ğŸ’",
    "personality": {
        "patience": 0.5,
        "frustrationTolerance": 0.6,
        "explorationDesire": 0.6,
        "competitionDrive": 0.7,
        "valueSensitivity": 0.4
    },
    "preferences": {
        "sessionLength": "medium",
        "difficultyPreference": "normal",
        "rewardFrequency": "instant",
        "tutorialImportance": "low"
    },
    "behaviorPatterns": {
        "playFrequency": "æ¯æ—¥",
        "avgSessionMinutes": 45,
        "quitThreshold": "ä»˜è´¹ä»·å€¼æ„Ÿä½",
        "preferredActions": ["è´­ä¹°é“å…·", "è·³è¿‡ç­‰å¾…", "è·å–ç‰¹æƒ"]
    }
}
```

---

## 5. è¡Œä¸ºå†³ç­–å¼•æ“ (BehaviorEngine)

### 5.1 å†³ç­–æµç¨‹

```
æ¸¸æˆçŠ¶æ€è¾“å…¥ â†’ ç‰¹å¾æå– â†’ åå¥½åŒ¹é… â†’ è¡Œä¸ºé€‰æ‹© â†’ æ‰§è¡ŒåŠ¨ä½œ
     â†“              â†“           â†“           â†“          â†“
  gameState    features    preferences   actions    execute
```

### 5.2 å†³ç­–å› ç´ æƒé‡

æ¯ç§Agentå¯¹ä¸åŒå†³ç­–å› ç´ æœ‰ä¸åŒçš„æƒé‡ï¼š

| å†³ç­–å› ç´  | ä¼‘é—² | ç¡¬æ ¸ | æ¢ç´¢ | ç¤¾äº¤ | ä»˜è´¹ |
|----------|------|------|------|------|------|
| ç”Ÿå­˜ä¼˜å…ˆ | é«˜ | ä½ | ä¸­ | ä¸­ | ä¸­ |
| æ•ˆç‡ä¼˜å…ˆ | ä½ | é«˜ | ä½ | ä¸­ | é«˜ |
| æ¢ç´¢ä¼˜å…ˆ | ä¸­ | ä¸­ | é«˜ | ä½ | ä½ |
| é£é™©åå¥½ | ä½ | é«˜ | ä¸­ | ä¸­ | ä¸­ |
| èµ„æºèŠ‚çº¦ | é«˜ | ä½ | ä¸­ | ä¸­ | ä½ |

### 5.3 æˆ˜æ–—å†³ç­–ç¤ºä¾‹

```javascript
decideCombatAction(gameState) {
    const hpRatio = gameState.player.hp / gameState.player.maxHP;
    const skillAvailable = this.getAvailableSkills(gameState);
    
    // æ ¹æ®Agentç±»å‹å†³å®šç­–ç•¥
    switch(this.type) {
        case 'casual':
            if (hpRatio < 0.3) return 'usePotion';
            if (skillAvailable.length > 0) return 'useSkill';
            return 'attack';
            
        case 'hardcore':
            // ä¼˜åŒ–ä¼¤å®³è¾“å‡º
            return this.optimizeDamage(gameState);
            
        case 'explorer':
            // å°è¯•ä¸åŒæŠ€èƒ½ç»„åˆ
            return this.tryDifferentSkills(gameState);
            
        default:
            return 'attack';
    }
}
```

---

## 6. å¤šç»´è¯„ä»·çŸ©é˜µä½“ç³»ï¼ˆæ ¸å¿ƒï¼‰

### 6.1 è®¾è®¡ç†å¿µ

è¯„ä»·è¾“å‡ºä¸æ˜¯ä¸€å¥è¯ï¼Œè€Œæ˜¯**ç»“æ„åŒ–çš„å¤šç»´æ•°æ®çŸ©é˜µ**ï¼Œå¯ç”Ÿæˆé›·è¾¾å›¾ã€çƒ­åŠ›å›¾ç­‰å¯è§†åŒ–å›¾è¡¨ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è¯„ä»·çŸ©é˜µç»“æ„                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   Agent Ã— ç»´åº¦ = è¯„åˆ†çŸ©é˜µ                                    â”‚
â”‚                                                             â”‚
â”‚              åˆºæ¿€åº¦  æˆé•¿æ„Ÿ  èŠ‚å¥æ„Ÿ  å¯ç©æ€§  ç•™å­˜é¢„ä¼°  ...     â”‚
â”‚   ä¼‘é—²ç©å®¶    6.2     7.5     5.8     6.0     4.5           â”‚
â”‚   ç¡¬æ ¸ç©å®¶    8.5     6.0     7.2     8.8     8.0           â”‚
â”‚   æ¢ç´¢ç©å®¶    5.0     8.2     6.5     7.0     6.8           â”‚
â”‚   ç¤¾äº¤ç©å®¶    4.5     6.0     5.0     3.5     3.0           â”‚
â”‚   ä»˜è´¹ç©å®¶    6.8     7.8     7.0     6.5     7.2           â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”‚
â”‚   å‡å€¼       6.2     7.1     6.3     6.4     5.9           â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 è¯„ä»·ç»´åº¦å®šä¹‰

#### 6.2.1 æ ¸å¿ƒä½“éªŒç»´åº¦ï¼ˆ5ä¸ªåŸºç¡€ç»´åº¦ï¼‰

| ç»´åº¦ID | åç§° | å®šä¹‰ | æµ‹é‡æŒ‡æ ‡ |
|--------|------|------|----------|
| `excitement` | åˆºæ¿€åº¦ | æˆ˜æ–—çš„ç´§å¼ æ„Ÿå’Œåˆºæ¿€ç¨‹åº¦ | æˆ˜æ–—å›åˆæ•°ã€HPå±é™©æ¬¡æ•°ã€æš´å‡»/é—ªé¿ç­‰ |
| `growth` | æˆé•¿æ„Ÿ | å‡çº§å’Œå˜å¼ºçš„æ»¡è¶³æ„Ÿ | å‡çº§é¢‘ç‡ã€å±æ€§æå‡å¹…åº¦ã€è£…å¤‡è·å– |
| `pacing` | èŠ‚å¥æ„Ÿ | æ¸¸æˆè¿›ç¨‹çš„æµç•…åº¦ | æˆ˜æ–—é—´éš”ã€æ¨è¿›é€Ÿåº¦ã€ç­‰å¾…æ—¶é—´ |
| `playability` | å¯ç©æ€§ | æ¸¸æˆæœºåˆ¶çš„è¶£å‘³ç¨‹åº¦ | æŠ€èƒ½ä½¿ç”¨å¤šæ ·æ€§ã€ç­–ç•¥é€‰æ‹©ç©ºé—´ |
| `retention` | ç•™å­˜é¢„ä¼° | ç©å®¶ç»§ç»­æ¸¸ç©çš„æ„æ„¿ | æ­»äº¡æ¬¡æ•°ã€å¼ƒæ¸¸å€¾å‘ã€é‡å¤åº¦æ„ŸçŸ¥ |

#### 6.2.2 è¿›é˜¶ç»´åº¦ï¼ˆå¯é€‰ï¼Œé’ˆå¯¹ç‰¹å®šåˆ†æï¼‰

| ç»´åº¦ID | åç§° | å®šä¹‰ | é€‚ç”¨åœºæ™¯ |
|--------|------|------|----------|
| `randomness` | éšæœºä½“éªŒ | æ‰è½/äº‹ä»¶çš„éšæœºæ€§æ„Ÿå— | Roguelikeç±» |
| `strategy` | ç­–ç•¥æ·±åº¦ | buildå’Œå†³ç­–çš„ç­–ç•¥ç©ºé—´ | RPG/ç­–ç•¥ç±» |
| `risk_reward` | é£é™©å›æŠ¥ | å†’é™©ä¸æ”¶ç›Šçš„å¹³è¡¡æ„Ÿ | é«˜éš¾åº¦æ¸¸æˆ |
| `frustration` | æŒ«è´¥æ„Ÿ | è´Ÿé¢æƒ…ç»ªçš„å¼ºåº¦ï¼ˆåå‘æŒ‡æ ‡ï¼‰ | æ‰€æœ‰æ¸¸æˆ |
| `achievement` | æˆå°±æ„Ÿ | å®ŒæˆæŒ‘æˆ˜çš„æ»¡è¶³æ„Ÿ | æ‰€æœ‰å…³å¡æ¸¸æˆ |
| `control` | æŒæ§æ„Ÿ | å¯¹æ¸¸æˆè¿›ç¨‹çš„æ§åˆ¶ç¨‹åº¦ | æ‰€æœ‰å…³å¡æ¸¸æˆ |
| `social` | ç¤¾äº¤ä½“éªŒ | äº’åŠ¨åŠŸèƒ½çš„å®Œå–„åº¦ | å¤šäººæ¸¸æˆ |
| `monetization` | ä»˜è´¹ä½“éªŒ | æ°ªé‡‘ç³»ç»Ÿçš„å‹å¥½ç¨‹åº¦ | å•†ä¸šåŒ–æ¸¸æˆ |

### 6.3 ç»´åº¦è¯„åˆ†ç®—æ³•

æ¯ä¸ªç»´åº¦é€šè¿‡**äº‹ä»¶é©±åŠ¨**çš„è¯„åˆ†æœºåˆ¶è®¡ç®—ï¼š

```javascript
const dimensionFormulas = {
    excitement: {
        baseScore: 5,
        events: {
            lowHPBattle: { trigger: 'hpRatio < 0.3 && inBattle', score: +0.8, max: 3 },
            closeVictory: { trigger: 'hpRatio < 0.2 && victory', score: +1.2 },
            longBattle: { trigger: 'battleTurns > 10', score: +0.5 },
            oneShot: { trigger: 'damage >= maxHP', score: -1.5 }
        }
    },
    
    growth: {
        baseScore: 5,
        events: {
            levelUp: { trigger: 'levelUp', score: +1.0 },
            getEquipment: { trigger: 'equipNew', score: +0.8 },
            getRareDrop: { trigger: 'dropRate < 0.1', score: +1.5 },
            noUpgrade: { trigger: 'noUpgradeTime > 5min', score: -0.3, interval: true }
        }
    },
    
    pacing: {
        baseScore: 5,
        events: {
            quickBattle: { trigger: 'battleTime < 10s', score: +0.3 },
            slowProgress: { trigger: 'floorTime > 3min', score: -0.5 },
            instantReward: { trigger: 'rewardDelay < 1s', score: +0.2 },
            tooFrequentBattle: { trigger: 'battleCount/minute > 5', score: -0.4 }
        }
    },
    
    playability: {
        baseScore: 5,
        events: {
            useDifferentSkill: { trigger: 'newSkillUsed', score: +0.6, max: 4 },
            forgeEquipment: { trigger: 'forgeSuccess', score: +0.8 },
            useStrategy: { trigger: 'optimalActionChosen', score: +0.4 },
            repetitiveAction: { trigger: 'sameActionCount > 20', score: -0.5 }
        }
    },
    
    retention: {
        baseScore: 5,
        events: {
            reachNewFloor: { trigger: 'newFloorReached', score: +0.7 },
            deathPenalty: { trigger: 'death', score: -1.0 },
            consecutiveDeath: { trigger: 'deathCount > 2', score: -0.5 },
            progressMilestone: { trigger: 'milestone', score: +1.0 }
        }
    }
};
```

### 6.4 Agentä¸ªæ€§åŒ–æƒé‡

ä¸åŒAgentç±»å‹å¯¹å„ç»´åº¦çš„æ•æ„Ÿåº¦ä¸åŒï¼š

```javascript
const agentDimensionWeights = {
    casual: {
        excitement: 0.6,    // ä¸å¤ªè¿½æ±‚åˆºæ¿€
        growth: 1.2,        // å¾ˆçœ‹é‡æˆé•¿æ„Ÿ
        pacing: 1.5,        // éå¸¸çœ‹é‡èŠ‚å¥ï¼ˆè¦è½»æ¾ï¼‰
        playability: 0.8,   // ä¸å¤ªåœ¨æ„æ·±åº¦
        retention: 1.0      // æ­£å¸¸
    },
    hardcore: {
        excitement: 1.5,    // è¿½æ±‚åˆºæ¿€
        growth: 0.8,        // æˆé•¿åªæ˜¯æ‰‹æ®µ
        pacing: 0.6,        // å¯ä»¥æ¥å—æ…¢èŠ‚å¥
        playability: 1.5,   // éå¸¸çœ‹é‡æ·±åº¦
        retention: 0.8      // ä¼šåšæŒç©
    },
    explorer: {
        excitement: 0.7,
        growth: 1.0,
        pacing: 0.8,
        playability: 1.2,
        retention: 1.3      // å†…å®¹è€—å°½æ‰ä¼šå¼ƒ
    },
    social: {
        excitement: 0.8,
        growth: 0.9,
        pacing: 1.0,
        playability: 0.7,
        retention: 0.6      // æ²¡ç¤¾äº¤å°±å¼ƒ
    },
    paying: {
        excitement: 1.0,
        growth: 1.5,        // ä»˜è´¹åŠ é€Ÿæˆé•¿
        pacing: 1.2,        // ä»˜è´¹è·³è¿‡ç­‰å¾…
        playability: 0.8,
        retention: 1.0
    }
};
```

### 6.5 è¯„åˆ†è®¡ç®—æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     è¯„åˆ†è®¡ç®—æµç¨‹                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1. æ¸¸æˆäº‹ä»¶æµ                                               â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚     â”‚æˆ˜æ–—å¼€å§‹â”‚â†’â”‚HPé™ä½â”‚â†’â”‚ä½¿ç”¨æŠ€èƒ½â”‚â†’â”‚æˆ˜æ–—èƒœåˆ©â”‚ ...             â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚         â”‚                                                   â”‚
â”‚         â–¼                                                   â”‚
â”‚  2. äº‹ä»¶åŒ¹é…ç»´åº¦è§„åˆ™                                         â”‚
â”‚     { lowHPBattle â†’ excitement +0.8 }                       â”‚
â”‚     { victory â†’ growth +0.3, retention +0.5 }               â”‚
â”‚         â”‚                                                   â”‚
â”‚         â–¼                                                   â”‚
â”‚  3. ç´¯åŠ åŸºç¡€åˆ† + äº‹ä»¶åˆ†                                       â”‚
â”‚     excitement: 5 + 0.8 + 0.5 - 0.3 = 6.0                   â”‚
â”‚         â”‚                                                   â”‚
â”‚         â–¼                                                   â”‚
â”‚  4. åº”ç”¨Agentæƒé‡                                            â”‚
â”‚     casual: 6.0 Ã— 0.6 = 3.6 (å½’ä¸€åŒ–å)                       â”‚
â”‚     hardcore: 6.0 Ã— 1.5 = 9.0 (å½’ä¸€åŒ–å)                     â”‚
â”‚         â”‚                                                   â”‚
â”‚         â–¼                                                   â”‚
â”‚  5. è¾“å‡ºçŸ©é˜µ                                                 â”‚
â”‚     [excitement: 6.0, growth: 7.2, pacing: 5.8, ...]        â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.6 æœ€ç»ˆè¯„åˆ†è®¡ç®—

```javascript
calculateFinalScore(agent, dimensionScores) {
    const weights = agentDimensionWeights[agent.type];
    let weightedSum = 0;
    let weightSum = 0;
    
    for (const [dimension, score] of Object.entries(dimensionScores)) {
        const weight = weights[dimension] || 1.0;
        weightedSum += score * weight;
        weightSum += weight;
    }
    
    return (weightedSum / weightSum).toFixed(1);
}
```

### 6.7 å¯è§†åŒ–è¾“å‡ºæ ¼å¼

```javascript
const evaluationOutput = {
    agentId: "casual_01",
    agentName: "ä¼‘é—²å°æ˜",
    agentType: "casual",
    
    dimensionScores: {
        excitement: 6.2,
        growth: 7.5,
        pacing: 5.8,
        playability: 6.0,
        retention: 4.5
    },
    
    overallScore: 6.0,
    
    radarChartData: {
        labels: ["åˆºæ¿€åº¦", "æˆé•¿æ„Ÿ", "èŠ‚å¥æ„Ÿ", "å¯ç©æ€§", "ç•™å­˜é¢„ä¼°"],
        values: [6.2, 7.5, 5.8, 6.0, 4.5]
    },
    
    breakdown: [
        { dimension: "pacing", issue: "æˆ˜æ–—é¢‘ç‡è¿‡é«˜", severity: "medium" },
        { dimension: "retention", issue: "è¿ç»­æ­»äº¡å¯¼è‡´æŒ«è´¥", severity: "high" }
    ]
};
```

### 6.8 çŸ©é˜µèšåˆåˆ†æ

æ‰€æœ‰Agentçš„è¯„åˆ†èšåˆä¸ºå…¨å±€çŸ©é˜µï¼š

```javascript
const globalMatrix = {
    byAgent: {
        casual: { excitement: 6.2, growth: 7.5, pacing: 5.8, playability: 6.0, retention: 4.5 },
        hardcore: { excitement: 8.5, growth: 6.0, pacing: 7.2, playability: 8.8, retention: 8.0 },
        explorer: { excitement: 5.0, growth: 8.2, pacing: 6.5, playability: 7.0, retention: 6.8 },
        social: { excitement: 4.5, growth: 6.0, pacing: 5.0, playability: 3.5, retention: 3.0 },
        paying: { excitement: 6.8, growth: 7.8, pacing: 7.0, playability: 6.5, retention: 7.2 }
    },
    
    byDimension: {
        excitement: { avg: 6.2, min: 4.5, max: 8.5, variance: 2.1 },
        growth: { avg: 7.1, min: 6.0, max: 8.2, variance: 0.8 },
        pacing: { avg: 6.3, min: 5.0, max: 7.2, variance: 0.7 },
        playability: { avg: 6.4, min: 3.5, max: 8.8, variance: 3.2 },
        retention: { avg: 5.9, min: 3.0, max: 8.0, variance: 3.5 }
    },
    
    overallAvg: 6.4,
    
    criticalIssues: [
        { dimension: "retention", affectedAgents: ["casual", "social"], avgScore: 3.8 }
    ]
};
```

---

## 7. æ¸¸æˆæ¥å£å±‚ (GameAPI)

### 7.1 æ¥å£è®¾è®¡

GameAPIä½œä¸ºAgentä¸åŸæ¸¸æˆä¹‹é—´çš„æ¡¥æ¢ï¼Œæä¾›æ ‡å‡†åŒ–çš„äº¤äº’æ¥å£ï¼š

```javascript
class GameAPI {
    constructor(game) {
        this.game = game;
    }
    
    // çŠ¶æ€æŸ¥è¯¢
    getState() {
        return {
            player: { ...this.game.player },
            floor: this.game.floor,
            monster: this.game.monster,
            inBattle: this.game.inBattle,
            inventory: { ...this.game.inventory }
        };
    }
    
    // è¡ŒåŠ¨æ¥å£
    explore() { this.game.explore(); }
    attack() { this.game.attack(); }
    useSkill(skillId) { this.game.useSkill(skillId); }
    useItem(itemId) { this.game.useItem(itemId); }
    nextFloor() { this.game.nextFloor(); }
    forgeItem(category, itemId) { this.game.forgeItem(category, itemId); }
    
    // æ¨¡æ‹Ÿæ§åˆ¶
    setAutoMode(enabled) {}
    pause() {}
    resume() {}
    reset() {}
}
```

### 7.2 äº‹ä»¶é’©å­

```javascript
const gameEvents = {
    onBattleStart: (monster) => {},
    onBattleEnd: (result, rewards) => {},
    onLevelUp: (newLevel) => {},
    onItemObtained: (item) => {},
    onDeath: (finalStats) => {},
    onFloorAdvance: (floor) => {}
};
```

---

## 8. åé¦ˆåˆ†ææ¨¡å— (Analyzer)

### 8.1 åˆ†ææµç¨‹

```
åŸå§‹åé¦ˆ â†’ åˆ†ç±»æå– â†’ æƒ…æ„Ÿåˆ†æ â†’ ä¸»é¢˜èšç±» â†’ ç»Ÿè®¡æ±‡æ€»
```

### 8.2 åˆ†æè¾“å‡º

```javascript
const analysisResult = {
    summary: {
        totalAgents: 5,
        totalPlayTime: 3600,
        totalBattles: 150,
        avgScore: 7.2
    },
    byAgentType: {
        casual: { score: 6.5, topIssues: [...] },
        hardcore: { score: 7.8, topIssues: [...] },
        // ...
    },
    byDimension: {
        easeOfUse: { avg: 7.1, trend: 'stable' },
        depth: { avg: 6.8, trend: 'up' },
        // ...
    },
    commonIssues: [
        { issue: "å‰æœŸèŠ‚å¥åæ…¢", count: 3, severity: "medium" },
        { issue: "åæœŸéš¾åº¦éª¤å¢", count: 2, severity: "high" }
    ],
    recommendations: [
        { priority: "high", action: "è°ƒæ•´3-5å±‚éš¾åº¦æ›²çº¿" }
    ]
};
```

---

## 9. è¿­ä»£å»ºè®®ç³»ç»Ÿ (Advisor)

### 9.1 å»ºè®®ç”Ÿæˆè§„åˆ™

åŸºäºåˆ†æç»“æœè‡ªåŠ¨ç”Ÿæˆä¼˜å…ˆçº§å»ºè®®ï¼š

```javascript
const priorityRules = [
    {
        condition: (analysis) => analysis.byDimension.easeOfUse.avg < 6,
        suggestion: "ä¼˜åŒ–æ–°æ‰‹å¼•å¯¼å’Œå‰æœŸä½“éªŒ",
        priority: "high"
    },
    {
        condition: (analysis) => analysis.commonIssues.filter(i => i.severity === 'high').length > 2,
        suggestion: "ä¼˜å…ˆè§£å†³é«˜é¢‘ä¸¥é‡é—®é¢˜",
        priority: "critical"
    },
    {
        condition: (analysis) => analysis.byAgentType.hardcore.score < 5,
        suggestion: "å¢åŠ æ·±åº¦å†…å®¹å’ŒæŒ‘æˆ˜æ€§",
        priority: "medium"
    }
];
```

### 9.2 å»ºè®®è¾“å‡ºæ ¼å¼

```javascript
const iterationPlan = {
    critical: [
        { issue: "æ–°æ‰‹æµå¤±ç‡é«˜", actions: ["ç®€åŒ–æ•™ç¨‹", "é™ä½å‰æœŸéš¾åº¦"] }
    ],
    high: [
        { issue: "ä¸­æœŸèŠ‚å¥æ‹–æ²“", actions: ["å¢åŠ 3-5å±‚æ€ªç‰©å¯†åº¦", "æé«˜ç»éªŒè·å–"] }
    ],
    medium: [
        { issue: "åæœŸå†…å®¹ä¸è¶³", actions: ["æ·»åŠ é«˜å±‚ç‰¹æ®Šäº‹ä»¶", "å¢åŠ ç¨€æœ‰æ‰è½"] }
    ],
    low: [
        { issue: "UIç»†èŠ‚ä¼˜åŒ–", actions: ["ä¼˜åŒ–èƒŒåŒ…æ’åº", "å¢åŠ ä¼¤å®³ç»Ÿè®¡"] }
    ]
};
```

---

## 10. å¯è§†åŒ–ä»ªè¡¨ç›˜

### 10.1 é¡µé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ® CrowdAgents æµ‹è¯•ä»ªè¡¨ç›˜              [å¼€å§‹æµ‹è¯•] [å¯¼å‡ºæŠ¥å‘Š]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€ AgentçŠ¶æ€å¡ç‰‡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ®ä¼‘é—²å°æ˜  âš”ï¸ç«æŠ€è¾¾äºº  ğŸ—ºï¸æ¢ç´¢è€…å°é›ª  ğŸ‘¥ç¤¾äº¤è¾¾äºº  ğŸ’æ°ªé‡‘å¤§ä½¬  â”‚   â”‚
â”‚  â”‚   6.0        8.2          7.1          3.8         7.2      â”‚   â”‚
â”‚  â”‚   â–¶è¿è¡Œä¸­     â–¶è¿è¡Œä¸­      â–¶è¿è¡Œä¸­      â¸å·²é€€å‡º     â–¶è¿è¡Œä¸­   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€ å¤šç»´é›·è¾¾å›¾ï¼ˆå…¨å±€å¯¹æ¯”ï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€ çƒ­åŠ›çŸ©é˜µå›¾ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚          æˆé•¿æ„Ÿ                  â”‚  â”‚      åˆº æˆ èŠ‚ å¯ ç•™     â”‚ â”‚
â”‚  â”‚            â•±ï¼¼                   â”‚  â”‚ ä¼‘é—²  6  8  6  6  5     â”‚ â”‚
â”‚  â”‚    å¯ç©æ€§ â•±  â•² åˆºæ¿€åº¦            â”‚  â”‚ ç¡¬æ ¸  9  6  7  9  8     â”‚ â”‚
â”‚  â”‚         â•±      â•²                 â”‚  â”‚ æ¢ç´¢  5  8  7  7  7     â”‚ â”‚
â”‚  â”‚        â•±â”€â”€â”€â”€â”€â”€â”€â”€â•²                â”‚  â”‚ ç¤¾äº¤  5  6  5  4  3     â”‚ â”‚
â”‚  â”‚      ç•™å­˜é¢„ä¼°    èŠ‚å¥æ„Ÿ           â”‚  â”‚ ä»˜è´¹  7  8  7  7  7     â”‚ â”‚
â”‚  â”‚                                  â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ â”‚
â”‚  â”‚  â”€â”€ä¼‘é—² â”€â”€ç¡¬æ ¸ â”€â”€æ¢ç´¢ ...        â”‚  â”‚ å‡å€¼  6  7  6  7  6      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€ ç»´åº¦æŸ±çŠ¶å›¾ï¼ˆæŒ‰ç»´åº¦å¯¹æ¯”Agentï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  åˆºæ¿€åº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ ç¡¬æ ¸8.5  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ ä¼‘é—²6.2  ...           â”‚ â”‚
â”‚  â”‚  æˆé•¿æ„Ÿ: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ æ¢ç´¢8.2  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ ä»˜è´¹7.8  ...           â”‚ â”‚
â”‚  â”‚  èŠ‚å¥æ„Ÿ: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ ç¡¬æ ¸7.2  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ ä¼‘é—²5.8  ...           â”‚ â”‚
â”‚  â”‚  å¯ç©æ€§: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ ç¡¬æ ¸8.8  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ æ¢ç´¢7.0  ...           â”‚ â”‚
â”‚  â”‚  ç•™å­˜é¢„ä¼°: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ ç¡¬æ ¸8.0  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ æ¢ç´¢6.8  ...         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€ é—®é¢˜è¯Šæ–­é¢æ¿ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ”´ ä¸¥é‡é—®é¢˜                                                    â”‚ â”‚
â”‚  â”‚     â€¢ ç•™å­˜é¢„ä¼°åä½ (ç¤¾äº¤3.0, ä¼‘é—²4.5) â†’ å»ºè®®ä¼˜åŒ–æŒ«è´¥æ„Ÿå¤„ç†      â”‚ â”‚
â”‚  â”‚  ğŸŸ¡ ä¸­ç­‰é—®é¢˜                                                    â”‚ â”‚
â”‚  â”‚     â€¢ å¯ç©æ€§åˆ†åŒ–ä¸¥é‡ (æ–¹å·®3.2) â†’ ç¡¬æ ¸æ»¡æ„ï¼Œç¤¾äº¤ä¸æ»¡             â”‚ â”‚
â”‚  â”‚  ğŸŸ¢ è½»å¾®é—®é¢˜                                                    â”‚ â”‚
â”‚  â”‚     â€¢ åˆºæ¿€åº¦æ•´ä½“é€‚ä¸­ â†’ å¯è€ƒè™‘å¢åŠ é«˜å…‰æ—¶åˆ»                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€ è¿­ä»£å»ºè®®ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ”´ P0: é™ä½å‰æœŸè¿ç»­æ­»äº¡çš„æŒ«è´¥æ„Ÿï¼Œå¢åŠ ä¿æŠ¤æœºåˆ¶                  â”‚ â”‚
â”‚  â”‚  ğŸŸ¡ P1: å¢åŠ æŠ€èƒ½å¤šæ ·æ€§ï¼Œæå‡å¯ç©æ€§çš„ä¸‹é™                        â”‚ â”‚
â”‚  â”‚  ğŸŸ¢ P2: å¢åŠ éšæœºäº‹ä»¶ï¼Œæå‡åˆºæ¿€åº¦çš„æ•´ä½“æ°´å¹³                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.2 å›¾è¡¨ç±»å‹

| å›¾è¡¨ | ç”¨é€” | æ•°æ®æ¥æº |
|------|------|----------|
| **é›·è¾¾å›¾** | å±•ç¤ºå•ä¸ª/å¤šä¸ªAgentçš„ç»´åº¦è¯„åˆ†å¯¹æ¯” | `dimensionScores` |
| **çƒ­åŠ›çŸ©é˜µ** | AgentÃ—ç»´åº¦çš„å®Œæ•´è¯„åˆ†çŸ©é˜µ | `globalMatrix.byAgent` |
| **æŸ±çŠ¶å›¾** | æŒ‰ç»´åº¦å¯¹æ¯”ä¸åŒAgent | `globalMatrix.byDimension` |
| **æŠ˜çº¿å›¾** | æ¨¡æ‹Ÿè¿‡ç¨‹ä¸­çš„è¯„åˆ†è¶‹åŠ¿ | å®æ—¶äº‹ä»¶æµ |
| **é—®é¢˜é¢æ¿** | è¯Šæ–­ç»“æœå’Œä¸¥é‡ç¨‹åº¦ | `criticalIssues` |
| **å»ºè®®åˆ—è¡¨** | æŒ‰ä¼˜å…ˆçº§æ’åºçš„è¿­ä»£å»ºè®® | `Advisor` è¾“å‡º |

### 10.3 äº¤äº’åŠŸèƒ½

1. **Agenté€‰æ‹©**: ç‚¹å‡»Agentå¡ç‰‡åˆ‡æ¢è¯¦æƒ…è§†å›¾
2. **ç»´åº¦ç­›é€‰**: å‹¾é€‰å…³æ³¨çš„ç»´åº¦è¿›è¡Œå¯¹æ¯”
3. **æ—¶é—´èŒƒå›´**: é€‰æ‹©æŸ¥çœ‹ç‰¹å®šæ—¶é—´æ®µçš„è¯„åˆ†å˜åŒ–
4. **å¯¼å‡ºæŠ¥å‘Š**: ç”ŸæˆåŒ…å«æ‰€æœ‰å›¾è¡¨çš„HTML/PDFæŠ¥å‘Š
5. **å®æ—¶æ›´æ–°**: æ¨¡æ‹Ÿè¿‡ç¨‹ä¸­å›¾è¡¨è‡ªåŠ¨åˆ·æ–°

---

## 11. ç³»ç»Ÿè¯„ä¼°æœºåˆ¶

### 11.1 å‡†ç¡®æ€§éªŒè¯

```javascript
const validationMetrics = {
    correlationWithReal: 0.0,  // ä¸çœŸå®åé¦ˆçš„ç›¸å…³æ€§
    falsePositiveRate: 0.0,    // è¯¯æŠ¥ç‡
    coverageRate: 0.0          // é—®é¢˜è¦†ç›–ç‡
};

function validateAgentAccuracy(realFeedback) {
    const agentFeedback = collectAgentFeedback();
    return calculateCorrelation(realFeedback, agentFeedback);
}
```

### 11.2 æŒç»­ä¼˜åŒ–

- è®°å½•Agenté¢„æµ‹ä¸çœŸå®åé¦ˆçš„å·®å¼‚
- æ ¹æ®å·®å¼‚è°ƒæ•´Agentæƒé‡å’Œé˜ˆå€¼
- æ”¯æŒå¯¼å…¥çœŸå®ç©å®¶æ•°æ®æ ¡å‡†æ¨¡å‹

---

## 12. å¯æ‰©å±•æ€§è®¾è®¡

### 12.1 æ’ä»¶åŒ–Agent

```javascript
class AgentPlugin {
    static register(type, config) {
        AgentFactory.registeredAgents.set(type, config);
    }
}

// æ·»åŠ æ–°Agentç±»å‹
AgentPlugin.register('streamer', {
    name: 'ç›´æ’­å‹ç©å®¶',
    factory: () => new StreamerAgent(config)
});
```

### 12.2 é…ç½®é©±åŠ¨

æ‰€æœ‰Agentè¡Œä¸ºã€è¯„ä»·æ ‡å‡†å‡é€šè¿‡JSONé…ç½®ï¼Œæ”¯æŒï¼š
- çƒ­æ›´æ–°é…ç½®
- è‡ªå®šä¹‰Agentç”»åƒ
- è‡ªå®šä¹‰è¯„ä»·ç»´åº¦
- è‡ªå®šä¹‰åé¦ˆæ¨¡æ¿

---

## 13. å®ç°æ­¥éª¤

### Phase 1: æ ¸å¿ƒæ¡†æ¶ (é¢„è®¡æ–‡ä»¶)
1. `GameAPI.js` - æ¸¸æˆæ¥å£å±‚
2. `AgentBase.js` - AgentåŸºç±»
3. `BehaviorEngine.js` - è¡Œä¸ºå†³ç­–å¼•æ“
4. `config/agents.json` - Agenté…ç½®

### Phase 2: Agentå®ç°
5. `agents/CasualPlayer.js`
6. `agents/HardcoreGamer.js`
7. `agents/StoryExplorer.js`
8. `agents/SocialPlayer.js`
9. `agents/PayingUser.js`

### Phase 3: åˆ†æç³»ç»Ÿ
10. `FeedbackGenerator.js` - åé¦ˆç”Ÿæˆ
11. `Analyzer.js` - åé¦ˆåˆ†æ
12. `Advisor.js` - è¿­ä»£å»ºè®®

### Phase 4: å¯è§†åŒ–
13. `index.html` - ä»ªè¡¨ç›˜é¡µé¢
14. `styles.css` - æ ·å¼
15. `main.js` - ä¸»æ§åˆ¶å™¨

### Phase 5: é›†æˆæµ‹è¯•
16. ä¸åŸæ¸¸æˆé›†æˆ
17. çœŸå®æ•°æ®éªŒè¯
18. æ€§èƒ½ä¼˜åŒ–

---

## 14. æŠ€æœ¯é€‰å‹

| ç»„ä»¶ | æŠ€æœ¯é€‰æ‹© | ç†ç”± |
|------|----------|------|
| å‰ç«¯æ¡†æ¶ | åŸç”ŸJavaScript | ä¸ç°æœ‰é¡¹ç›®ä¸€è‡´ï¼Œæ— ä¾èµ– |
| å›¾è¡¨åº“ | Chart.js (CDN) | è½»é‡ã€åŠŸèƒ½å¤Ÿç”¨ |
| æ ·å¼ | CSSå˜é‡ + Flexbox | ä¸ç°æœ‰é¡¹ç›®ä¸€è‡´ |
| æ•°æ®å­˜å‚¨ | localStorage | ç®€å•ã€æ— éœ€åç«¯ |
| é…ç½®æ ¼å¼ | JSON | ä¸ç°æœ‰é¡¹ç›®ä¸€è‡´ |

---

## 15. é¢„æœŸæ•ˆæœ

1. **æµ‹è¯•æ•ˆç‡æå‡**: 5ä¸ªAgentå¹¶è¡Œæµ‹è¯•ï¼Œè¦†ç›–ä¸»è¦ç©å®¶ç±»å‹
2. **åé¦ˆè‡ªåŠ¨åŒ–**: è‡ªåŠ¨ç”Ÿæˆç»“æ„åŒ–åé¦ˆå’Œè¯„åˆ†
3. **å†³ç­–æ”¯æŒ**: æ˜ç¡®çš„è¿­ä»£ä¼˜å…ˆçº§å»ºè®®
4. **å¯è§†åŒ–å±•ç¤º**: ç›´è§‚çš„ä»ªè¡¨ç›˜ä¾¿äºå›¢é˜Ÿç†è§£
5. **æŒç»­ä¼˜åŒ–**: å¯æ ¹æ®çœŸå®æ•°æ®æ ¡å‡†Agentæ¨¡å‹

---

**è¯·å®¡é˜…æ­¤è®¾è®¡æ–¹æ¡ˆï¼Œç¡®è®¤åæˆ‘å°†å¼€å§‹å®ç°ã€‚**
